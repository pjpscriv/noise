<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Attempt 4</title>
  <style type="text/css">
    html, body {
      margin: 0px;
      background-color: #111;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
  </style>
</head>

<body>
  <canvas id='canvas'></canvas>
</body>
<script type="text/javascript">

  async function noise() {
    let h = window.innerHeight;
    let w = window.innerWidth;
    
    let canvas = document.getElementById('canvas');
    canvas.height = h;
    canvas.width = w;
    
    let ctx = canvas.getContext('2d');
    
    while (true) {
      for (let i=0; i<10000; i++) {
        let x = Math.floor(Math.random() * w);
        let y = Math.floor(Math.random() * h);
        let color = '#' + Math.random().toString(16).slice(-6);
        ctx.fillStyle = color;
        ctx.fillRect(x, y, 3, 3);
      }
      await drawPixels();
    }
  }
  
  
  function drawPixels() {
    return new Promise(resolve => setTimeout(resolve, 0));
  }
  
  window.onload = noise;
  window.onclick = noise;
  
</script>
</html>